# 關於詞雲圖相關操作

## 1.如何正確調用詞雲圖
> ps:目前只有保存格式爲json文件時，纔會生成詞雲圖。其他存儲方式添加詞雲圖將在近期添加。

需要修改的配置項（./config/base_config.py）：

```python
# 數據保存類型選項配置,支持三種類型：csv、db、json
#此處需要爲json格式保存，原因如上
SAVE_DATA_OPTION = "json"  # csv or db or json
```

```python
# 是否開啓爬評論模式, 默認不開啓爬評論
#此處爲True，需要爬取評論纔可以生成評論的詞雲圖。
ENABLE_GET_COMMENTS = True
```

```python
#詞雲相關
#是否開啓生成評論詞雲圖
#打開詞雲圖功能
ENABLE_GET_WORDCLOUD = True
```

```python
# 添加自定義詞語及其分組
#添加規則：xx:yy 其中xx爲自定義添加的詞組，yy爲將xx該詞組分到的組名。
CUSTOM_WORDS = {
    '零幾': '年份',  # 將“零幾”識別爲一個整體
    '高頻詞': '專業術語'  # 示例自定義詞
}
```

```python
#停用(禁用)詞文件路徑
STOP_WORDS_FILE = "./docs/hit_stopwords.txt"
```

```python
#中文字體文件路徑
FONT_PATH= "./docs/STZHONGS.TTF"
```

**相關解釋**

- 自定義詞組的添加，`xx:yy` 中`xx`爲自定義詞語，`yy`爲`xx`分配詞語的組別。`yy`可以隨便給任意值。

- 如果需要添加禁用詞，請在./docs/hit_stopwords.txt添加禁用詞(保證格式正確，一個詞語一行)
- `FONT_PATH`爲生成詞雲圖中中文字體的格式，默認爲宋體。可以自行添加字體文件，修改路徑。

## 2.生成詞雲圖的位置

![image-20240627204928601](https://rosyrain.oss-cn-hangzhou.aliyuncs.com/img2/202406272049662.png)

如圖，在data文件下的`words文件夾`下，其中json爲詞頻統計文件，png爲詞雲圖。原本的評論內容在`json文件夾`下。