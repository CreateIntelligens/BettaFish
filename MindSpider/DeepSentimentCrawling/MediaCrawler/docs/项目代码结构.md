# 項目代碼結構

```
MediaCrawler
├── base
│   └── base_crawler.py         # 項目的抽象基類
├── cache
│   ├── abs_cache.py            # 緩存抽象基類
│   ├── cache_factory.py        # 緩存工廠
│   ├── local_cache.py          # 本地緩存實現
│   └── redis_cache.py          # Redis緩存實現
├── cmd_arg
│   └── arg.py                  # 命令行參數定義
├── config
│   ├── base_config.py          # 基礎配置
│   ├── db_config.py            # 數據庫配置
│   └── ...                     # 各平臺配置文件
├── constant
│   └── ...                     # 各平臺常量定義
├── database
│   ├── db.py                   # 數據庫ORM，封裝增刪改查
│   ├── db_session.py           # 數據庫會話管理
│   └── models.py               # 數據庫模型定義
├── docs
│   └── ...                     # 項目文檔
├── libs
│   ├── douyin.js               # 抖音Sign函數
│   ├── stealth.min.js          # 去除瀏覽器自動化特徵的JS
│   └── zhihu.js                # 知乎Sign函數
├── media_platform
│   ├── bilibili                # B站採集實現
│   ├── douyin                  # 抖音採集實現
│   ├── kuaishou                # 快手採集實現
│   ├── tieba                   # 百度貼吧採集實現
│   ├── weibo                   # 微博採集實現
│   ├── xhs                     # 小紅書採集實現
│   └── zhihu                   # 知乎採集實現
├── model
│   ├── m_baidu_tieba.py        # 百度貼吧數據模型
│   ├── m_douyin.py             # 抖音數據模型
│   ├── m_kuaishou.py           # 快手數據模型
│   ├── m_weibo.py              # 微博數據模型
│   ├── m_xiaohongshu.py        # 小紅書數據模型
│   └── m_zhihu.py              # 知乎數據模型
├── proxy
│   ├── base_proxy.py           # 代理基類
│   ├── providers               # 代理提供商實現
│   ├── proxy_ip_pool.py        # 代理IP池
│   └── types.py                # 代理類型定義
├── store
│   ├── bilibili                # B站數據存儲實現
│   ├── douyin                  # 抖音數據存儲實現
│   ├── kuaishou                # 快手數據存儲實現
│   ├── tieba                   # 貼吧數據存儲實現
│   ├── weibo                   # 微博數據存儲實現
│   ├── xhs                     # 小紅書數據存儲實現
│   └── zhihu                   # 知乎數據存儲實現
├── test
│   ├── test_db_sync.py         # 數據庫同步測試
│   ├── test_proxy_ip_pool.py   # 代理IP池測試
│   └── ...                     # 其他測試用例
├── tools
│   ├── browser_launcher.py     # 瀏覽器啓動器
│   ├── cdp_browser.py          # CDP瀏覽器控制
│   ├── crawler_util.py         # 爬蟲工具函數
│   ├── utils.py                # 通用工具函數
│   └── ...
├── main.py                     # 程序入口, 支持 --init_db 參數來初始化數據庫
├── recv_sms.py                 # 短信轉發HTTP SERVER接口
└── var.py                      # 全局上下文變量定義
```